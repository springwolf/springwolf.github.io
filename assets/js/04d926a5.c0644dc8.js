"use strict";(self.webpackChunkspringwolf_docs=self.webpackChunkspringwolf_docs||[]).push([[638],{850:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>x,frontMatter:()=>o,metadata:()=>l,toc:()=>h});var s=i(5893),t=i(1151),d=i(9286);const r="# Springwolf - required fields\nspringwolf.docket.base-package=io.github.springwolf.example\nspringwolf.docket.info.title=${spring.application.name}\nspringwolf.docket.info.version=1.0.0\n\nspringwolf.docket.servers.kafka-server.protocol=kafka\nspringwolf.docket.servers.kafka-server.host=${spring.kafka.bootstrap-servers}\n\n# Springwolf - optional fields\nspringwolf.enabled=true\nspringwolf.docket.default-content-type=application/json\nspringwolf.docket.id=urn:io:github:springwolf:example\nspringwolf.docket.info.description=Springwolf example project to demonstrate springwolfs abilities\nspringwolf.docket.info.terms-of-service=http://asyncapi.org/terms\nspringwolf.docket.info.contact.name=springwolf\nspringwolf.docket.info.contact.email=example@example.com\nspringwolf.docket.info.contact.url=https://github.com/springwolf/springwolf-core\nspringwolf.docket.info.license.name=Apache License 2.0\nspringwolf.docket.info.x-internal-id=xyz-123\n\n# Springwolf - debugging\nlogging.level.io.github.springwolf=DEBUG\n",o={sidebar_position:30},c="Configuration",l={id:"configuration/configuration",title:"Configuration",description:"Add the following to the spring application.properties file:",source:"@site/docs/configuration/configuration.mdx",sourceDirName:"configuration",slug:"/configuration/",permalink:"/docs/configuration/",draft:!1,unlisted:!1,editUrl:"https://github.com/springwolf/springwolf.github.io/edit/master/docs/configuration/configuration.mdx",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"defaultSidebar",previous:{title:"Quickstart",permalink:"/docs/quickstart"},next:{title:"Consumers",permalink:"/docs/configuration/documenting-consumers"}},a={},h=[{value:"Properties",id:"properties",level:2},{value:"<code>base-backage</code> (required)",id:"base-backage-required",level:3},{value:"<code>Info</code> (required)",id:"info-required",level:3},{value:"<code>Servers</code> (required)",id:"servers-required",level:3},{value:"<code>id</code>",id:"id",level:3},{value:"<code>default-content-type</code>",id:"default-content-type",level:3},{value:"Extension Fields",id:"extension-fields",level:3},{value:"Additional <code>application.properties</code>",id:"additional-applicationproperties",level:2},{value:"Actuator support",id:"actuator-support",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Add the following to the spring ",(0,s.jsx)(n.code,{children:"application.properties"})," file:"]}),"\n",(0,s.jsx)(d.Z,{language:"properties",children:r}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(n.h3,{id:"base-backage-required",children:[(0,s.jsx)(n.code,{children:"base-backage"})," (required)"]}),"\n",(0,s.jsx)(n.p,{children:"It's recommended to structure the project such that all consumers and producers (classes containing listener/producer methods) are in the same package - it's not mandatory, and if they're scattered across multiple packages, just provide the highest in hierarchy package that contains all classes."}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"base-package"})," will be scanned for classes containing ",(0,s.jsx)(n.code,{children:"@Component"})," annotated classes (that includes ",(0,s.jsx)(n.code,{children:"@Service"})," annotated classes) for methods annotated with ",(0,s.jsx)(n.code,{children:"@JmsListener"}),", ",(0,s.jsx)(n.code,{children:"@KafkaListener"}),", ",(0,s.jsx)(n.code,{children:"MessageMapping"}),", ",(0,s.jsx)(n.code,{children:"@RabbitListener"}),", ",(0,s.jsx)(n.code,{children:"@SqsListener"}),", ",(0,s.jsx)(n.code,{children:"@AsyncListener"}),", ",(0,s.jsx)(n.code,{children:"@AsyncPublisher"}),", etc.\n",(0,s.jsx)(n.code,{children:"@Configuration"})," classes are scanned for ",(0,s.jsx)(n.code,{children:"@Bean"})," containing the previously mentioned annotations as well."]}),"\n",(0,s.jsxs)(n.h3,{id:"info-required",children:[(0,s.jsx)(n.code,{children:"Info"})," (required)"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Info"})," object provides metadata about the API (see ",(0,s.jsx)(n.a,{href:"https://www.asyncapi.com/docs/reference/specification/v3.0.0#infoObject",children:"Info Object"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"All provided fields will be present in the generated document, but not all will be displayed in the UI."}),"\n",(0,s.jsxs)(n.h3,{id:"servers-required",children:[(0,s.jsx)(n.code,{children:"Servers"})," (required)"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Server"})," object provides metadata to help the reader understand the protocol, version, login details and more (see ",(0,s.jsx)(n.a,{href:"https://www.asyncapi.com/docs/reference/specification/v3.0.0#serversObject",children:"AsyncAPI Server Object"}),").\nAny name (",(0,s.jsx)(n.code,{children:"kafka-server"})," in the example) can be chosen."]}),"\n",(0,s.jsx)(n.p,{children:"An AsyncAPI document can contain more than one server, but it's not common."}),"\n",(0,s.jsxs)(n.p,{children:["As with the ",(0,s.jsx)(n.code,{children:"Info"})," object, all provided fields will be present in the generated document, but not all will be displayed in the UI."]}),"\n",(0,s.jsx)(n.h3,{id:"id",children:(0,s.jsx)(n.code,{children:"id"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Identifier"})," value represents a unique universal identifier of the application. See ",(0,s.jsx)(n.a,{href:"https://www.asyncapi.com/docs/reference/specification/v3.0.0#A2SIdString",children:"Identifier"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"default-content-type",children:(0,s.jsx)(n.code,{children:"default-content-type"})}),"\n",(0,s.jsxs)(n.p,{children:["A string representing the default content type to use when encoding/decoding a message's payload. See ",(0,s.jsx)(n.a,{href:"https://www.asyncapi.com/docs/reference/specification/v3.0.0#defaultContentTypeString",children:"Default Content Type"})]}),"\n",(0,s.jsxs)(n.p,{children:["The default is ",(0,s.jsx)(n.code,{children:"application/json"})," and it has an effect on the payload ",(0,s.jsx)(n.code,{children:"example"})," generation. Also supported: ",(0,s.jsx)(n.code,{children:"text/xml"}),", ",(0,s.jsx)(n.code,{children:"application/yaml"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"extension-fields",children:"Extension Fields"}),"\n",(0,s.jsxs)(n.p,{children:["The AsyncAPI specification allows the definition of additional data fields to extend the\nspecification at certain points (see ",(0,s.jsx)(n.a,{href:"https://www.asyncapi.com/docs/reference/specification/v3.0.0#specificationExtensions",children:"Specification Extensions"})," )."]}),"\n",(0,s.jsxs)(n.p,{children:["Extension Fields may be added to ",(0,s.jsx)(n.code,{children:"Info"}),", ",(0,s.jsx)(n.code,{children:"Contact"}),", ",(0,s.jsx)(n.code,{children:"License"})," and ",(0,s.jsx)(n.code,{children:"Server"})," objects both via ",(0,s.jsx)(n.code,{children:"application.properties"}),".\nEvery custom extension field must begin with ",(0,s.jsx)(n.code,{children:"x-"}),", for example ",(0,s.jsx)(n.code,{children:"x-internal-id"})," (see sample configurations above)."]}),"\n",(0,s.jsxs)(n.h2,{id:"additional-applicationproperties",children:["Additional ",(0,s.jsx)(n.code,{children:"application.properties"})]}),"\n",(0,s.jsxs)(n.p,{children:["The following table contains additional properties that can be specified in the ",(0,s.jsx)(n.code,{children:"application.properties"})," file:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property Name"}),(0,s.jsx)(n.th,{children:"Default Value"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsx)(n.td,{children:"Allows to enable/disable Springwolf at one central place."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.init-mode"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"fail_fast"})}),(0,s.jsxs)(n.td,{children:["Springwolf initializes during start up with ",(0,s.jsx)(n.code,{children:"fail_fast"})," or in the ",(0,s.jsx)(n.code,{children:"background"})," after the application has started."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.paths.docs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/springwolf/docs"})}),(0,s.jsxs)(n.td,{children:["The path of the AsyncAPI document in JSON format. ",(0,s.jsx)(n.em,{children:"Note that at the moment the UI will work only with the default value."})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.endpoint.actuator.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsx)(n.td,{children:"Publish the AsyncAPI document as part of Spring Boot\u2019s actuator feature."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.use-fqn"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Use fully qualified names for the schema classes. ",(0,s.jsxs)(n.strong,{children:["Required for publishing with ",(0,s.jsx)(n.code,{children:"springwolf-ui"})]})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.studio-compatibility"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Activate tweaks to allow viewing & editing in ",(0,s.jsx)(n.a,{href:"https://studio.asyncapi.com",children:"AsyncAPI studio"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.ui.initially-show-bindings"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsx)(n.td,{children:"Show bindings by default in the UI."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.ui.initially-show-headers"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsx)(n.td,{children:"Show headers by default in the UI."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.payload.extractable-classes.."})}),(0,s.jsx)(n.td,{children:"N/A"}),(0,s.jsxs)(n.td,{children:["Extract additional payload types. See ",(0,s.jsx)(n.a,{href:"/docs/configuration/documenting-messages",children:"message payloads"})," for more details."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.scanner.async-listener.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@AsyncListener"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.scanner.async-publisher.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@AsyncPublisher"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"AMQP"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.amqp.publishing.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsxs)(n.td,{children:["Allow (anyone) to produce AMQP messages from the UI. ",(0,s.jsx)(n.em,{children:"Note that this has security implications"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.amqp.scanner.rabbit-listener.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@RabbitListener"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"JMS"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.jms.publishing.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsxs)(n.td,{children:["Allow (anyone) to produce JMS messages from the UI. ",(0,s.jsx)(n.em,{children:"Note that this has security implications"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.jms.scanner.jms-listener.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@JmsListener"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Kafka"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.kafka.publishing.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsxs)(n.td,{children:["Allow (anyone) to produce Kafka messages from the UI. ",(0,s.jsx)(n.em,{children:"Note that this has security implications"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.kafka.publishing.producer"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"null"})}),(0,s.jsxs)(n.td,{children:["Configure the Kafka producer used to publish messages from the UI. Uses identical parameters as ",(0,s.jsx)(n.code,{children:"spring.kafka.producer"}),". ",(0,s.jsx)(n.a,{href:"https://github.com/springwolf/springwolf-core/blob/master/springwolf-examples/springwolf-kafka-example/src/main/java/io/github/springwolf/examples/kafka/configuration/CustomSpringwolfKafkaProducer.java#L20",children:"SpringwolfKafkaProducer"})," demonstrates multiple producer configuration to publish to Avro and Protobuf."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.kafka.scanner.kafka-listener.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@KafkaListener"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SNS"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.sns.publishing.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsxs)(n.td,{children:["Allow (anyone) to produce SNS messages from the UI. ",(0,s.jsx)(n.em,{children:"Note that this has security implications"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"SQS"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.sqs.publishing.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsxs)(n.td,{children:["Allow (anyone) to produce SQS messages from the UI. ",(0,s.jsx)(n.em,{children:"Note that this has security implications"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.sqs.scanner.sqs-listener.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@SqsListener"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"STOMP (WebSocket)"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.stomp.scanner.stomp-message-mapping.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@MessageMapping"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.stomp.scanner.stomp-send-to.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@SendTo"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"springwolf.plugin.stomp.scanner.stomp-send-to-user.enabled"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),(0,s.jsxs)(n.td,{children:["Enable scanner to find methods annotated with ",(0,s.jsx)(n.code,{children:"@SendToUser"}),"."]})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"actuator-support",children:"Actuator support"}),"\n",(0,s.jsxs)(n.p,{children:["Springwolf supports exposing the AsyncAPI document as part of Spring Boot\u2019s actuator endpoint.\nThe AsyncAPI document will then be moved underneath actuators base path, that's ",(0,s.jsx)(n.code,{children:"/actuator/springwolf"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["To enable it, add the ",(0,s.jsx)(n.code,{children:"spring-boot-actuator"})," dependency first.\nSecond, enable the actuator endpoint in the ",(0,s.jsx)(n.code,{children:"application.properties"})," file:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-properties",children:"# Move Springwolf endpoint to actuator\nspringwolf.endpoint.actuator.enabled=true\n\n# Expose Springwolf endpoint in spring\nmanagement.endpoints.web.exposure.include=springwolf\n"})}),"\n",(0,s.jsx)(n.p,{children:"If the actuator management port is configured differently than the application port or the actuator base path is changed, then\nthe exposed AsyncAPI document will follow accordingly."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Enabling actuator support for Springwolf will break the Springwolf UI."})})]})}function x(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);