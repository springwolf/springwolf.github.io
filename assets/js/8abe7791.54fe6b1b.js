"use strict";(self.webpackChunkspringwolf_docs=self.webpackChunkspringwolf_docs||[]).push([[525],{5162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(7294),r=n(6010);const i="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,l),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(7462),r=n(7294),i=n(6010),l=n(2466),o=n(6775),s=n(1980),p=n(7392),d=n(12);function u(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function c(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??u(n);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function k(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=c(e),[l,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[s,p]=f({queryString:n,groupId:a}),[u,k]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,d.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),g=(()=>{const e=s??u;return m({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{g&&o(g)}),[g]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),p(e),k(e)}),[p,k,i]),tabValues:i}}var g=n(2389);const h="tabList__CuJ",b="tabItem_LNqP";function N(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:p}=e;const d=[],{blockElementScrollPositionUntilNextRender:u}=(0,l.o5)(),c=e=>{const t=e.currentTarget,n=d.indexOf(t),a=p[n].value;a!==o&&(u(t),s(a))},m=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=d.indexOf(e.currentTarget)+1;t=d[n]??d[0];break}case"ArrowLeft":{const n=d.indexOf(e.currentTarget)-1;t=d[n]??d[d.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},p.map((e=>{let{value:t,label:n,attributes:l}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:c},l,{className:(0,i.Z)("tabs__item",b,l?.className,{"tabs__item--active":o===t})}),n??t)})))}function w(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function v(e){const t=k(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",h)},r.createElement(N,(0,a.Z)({},e,t)),r.createElement(w,(0,a.Z)({},e,t)))}function y(e){const t=(0,g.Z)();return r.createElement(v,(0,a.Z)({key:String(t)},e))}},9538:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>f,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var a=n(7462),r=(n(7294),n(3905)),i=n(4866),l=n(5162),o=n(614);const s={sidebar_position:30},p="Configuration",d={unversionedId:"configuration/configuration",id:"configuration/configuration",title:"Configuration",description:"There are 2 ways to configure springwolf which cannot be combined:",source:"@site/docs/configuration/configuration.md",sourceDirName:"configuration",slug:"/configuration/",permalink:"/docs/configuration/",draft:!1,editUrl:"https://github.com/springwolf/springwolf.github.io/edit/master/docs/configuration/configuration.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Quickstart",permalink:"/docs/quickstart"},next:{title:"Consumers",permalink:"/docs/configuration/documenting-consumers"}},u={},c=[{value:"Properties",id:"properties",level:2},{value:"basePackage (required)",id:"basepackage-required",level:3},{value:"id",id:"id",level:3},{value:"default-content-type",id:"default-content-type",level:3},{value:"Info (required)",id:"info-required",level:3},{value:"Server",id:"server",level:3},{value:"Additional <code>application.properties</code>",id:"additional-applicationproperties",level:2}],m={toc:c};function f(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"There are 2 ways to configure springwolf which cannot be combined:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"application.properties"),", which is simple and moves all configuration to this file and annotations"),(0,r.kt)("li",{parentName:"ol"},"(deprecated) ",(0,r.kt)("inlineCode",{parentName:"li"},"AsyncApiDocket"),", which allows adding producers and consumers via code (instead of annotations)")),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"application.properties",label:"application.properties",default:!0,mdxType:"TabItem"},"Add the following to the spring application.properties file.",(0,r.kt)(o.Z,{language:"properties",mdxType:"CodeBlock"},"springwolf.docket.base-package=io.github.stavshamir.springwolf.example\nspringwolf.docket.id=urn:io:github:stavshamir:springwolf:example\nspringwolf.docket.default-content-type=application/json\n\nspringwolf.docket.info.title=${spring.application.name}\nspringwolf.docket.info.version=1.0.0\nspringwolf.docket.info.description=Springwolf example project to demonstrate springwolfs abilities\nspringwolf.docket.info.terms-of-service=http://asyncapi.org/terms\nspringwolf.docket.info.contact.name=springwolf\nspringwolf.docket.info.contact.email=example@example.com\nspringwolf.docket.info.contact.url=https://github.com/springwolf/springwolf-core\nspringwolf.docket.info.license.name=Apache License 2.0\n\nspringwolf.docket.servers.kafka.protocol=kafka\nspringwolf.docket.servers.kafka.url=${spring.kafka.bootstrap-servers}")),(0,r.kt)(l.Z,{value:"AsyncApiDocket",label:"AsyncApiDocket",mdxType:"TabItem"},"Add a AsyncApiDocket bean to the spring context.",(0,r.kt)(o.Z,{language:"java",mdxType:"CodeBlock"},'@Configuration\npublic class AsyncApiConfiguration {\n\n    private final String BOOTSTRAP_SERVERS;\n\n    public AsyncApiConfiguration(@Value("${kafka.bootstrap.servers}") String bootstrapServers) {\n        this.BOOTSTRAP_SERVERS = bootstrapServers;\n    }\n\n    @Bean\n    public AsyncApiDocket asyncApiDocket() {\n        Info info = Info.builder()\n                .title("Springwolf example project - Kafka")\n                .version("1.0.0")\n                .contact(Contact.builder()\n                        .name("springwolf")\n                        .url("https://github.com/springwolf/springwolf-core")\n                        .email("example@example.com")\n                        .build())\n                .description("Springwolf example project to demonstrate springwolfs abilities")\n                .license(License.builder()\n                        .name("Apache License 2.0")\n                        .build())\n                .build();\n\n        return AsyncApiDocket.builder()\n                .basePackage("io.github.stavshamir.springwolf.example.consumers")\n                .info(info)\n                .id("urn:io:github:stavshamir:springwolf:example")\n                .defaultContentType("application/json")\n                .server("kafka", Server.builder()\n                        .protocol("kafka")\n                        .url(BOOTSTRAP_SERVERS)\n                        .build())\n                .build();\n    }\n}\n'))),(0,r.kt)("h2",{id:"properties"},"Properties"),(0,r.kt)("h3",{id:"basepackage-required"},"basePackage (required)"),(0,r.kt)("p",null,"It is recommended to structure the project such that all consumers and producers (classes containing listener/producer methods) are in the same package - it is not mandatory, and if they are scattered across multiple packages, just provide the highest in hierarchy package that contains all of them."),(0,r.kt)("p",null,"The base package will be scanned for classes containing ",(0,r.kt)("inlineCode",{parentName:"p"},"@Component")," annotated classes (that includes ",(0,r.kt)("inlineCode",{parentName:"p"},"@Service")," annotated classes) for methods annotated with ",(0,r.kt)("inlineCode",{parentName:"p"},"@KafkaListener"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"@RabbitListener"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"@AsyncListener"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"@AsyncPublisher"),", etc."),(0,r.kt)("h3",{id:"id"},"id"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Identifier")," value represents a unique universal identifier of the application. See ",(0,r.kt)("a",{parentName:"p",href:"https://www.asyncapi.com/docs/reference/specification/v2.0.0#A2SIdString."},"Identifier"),"."),(0,r.kt)("h3",{id:"default-content-type"},"default-content-type"),(0,r.kt)("p",null,"A string representing the default content type to use when encoding/decoding a message's payload. See ",(0,r.kt)("a",{parentName:"p",href:"https://www.asyncapi.com/docs/reference/specification/v2.0.0#defaultContentTypeString"},"Default Content Type")),(0,r.kt)("h3",{id:"info-required"},"Info (required)"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Info")," object provides metadata about the API (see ",(0,r.kt)("a",{parentName:"p",href:"https://www.asyncapi.com/docs/reference/specification/v2.0.0#infoObject."},"Info Object"),")."),(0,r.kt)("p",null,"All provided fields will be present in the generated document, but not all will be displayed in the UI."),(0,r.kt)("h3",{id:"server"},"Server"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Server")," object provides metadata the can help the reader understand the protocol, version, login details and more (see ",(0,r.kt)("a",{parentName:"p",href:"https://www.asyncapi.com/docs/reference/specification/v2.0.0#serversObject"},"Server Object"),")."),(0,r.kt)("p",null,"An AsyncAPI document can contain more than one server, but it is not common."),(0,r.kt)("p",null,"As with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Info")," object, all provided fields will be present in the generated document, but not all will be displayed in the UI."),(0,r.kt)("h2",{id:"additional-applicationproperties"},"Additional ",(0,r.kt)("inlineCode",{parentName:"h2"},"application.properties")),(0,r.kt)("p",null,"The following table contains additional properties that can be specified in the ",(0,r.kt)("inlineCode",{parentName:"p"},"application.properties")," file:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Allows to enable/disable springwolf at one central place.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.paths.docs")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/springwolf/docs")),(0,r.kt)("td",{parentName:"tr",align:null},"The path of the AsyncAPI document in JSON format. ",(0,r.kt)("em",{parentName:"td"},"Note that at the moment the UI will work only with the default value."))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.scanner.consumer-data.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable scanner to find consumers defined in ",(0,r.kt)("inlineCode",{parentName:"td"},"AsyncApiDocket"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.scanner.producer-data.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable scanner to find producers defined in ",(0,r.kt)("inlineCode",{parentName:"td"},"AsyncApiDocket"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.scanner.async-listener.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable scanner to find methods annotated with ",(0,r.kt)("inlineCode",{parentName:"td"},"@AsyncListener"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.scanner.async-publisher.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable scanner to find methods annotated with ",(0,r.kt)("inlineCode",{parentName:"td"},"@AsyncPublisher"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"AMQP")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.plugin.amqp.publishing.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Allow (anyone) to produce amqp messages from the UI. ",(0,r.kt)("em",{parentName:"td"},"Note that this has security implications"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.plugin.amqp.scanner.rabbit-listener.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable scanner to find methods annotated with ",(0,r.kt)("inlineCode",{parentName:"td"},"@RabbitListener"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"Kafka")),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.plugin.kafka.publishing.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Allow (anyone) to produce kafka messages from the UI. ",(0,r.kt)("em",{parentName:"td"},"Note that this has security implications"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.plugin.kafka.publishing.producer")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"null")),(0,r.kt)("td",{parentName:"tr",align:null},"Configure the kafka producer used to publish messages from the UI. Uses identical parameters as ",(0,r.kt)("inlineCode",{parentName:"td"},"spring.kafka.producer"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"springwolf.plugin.kafka.scanner.kafka-listener.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable scanner to find methods annotated with ",(0,r.kt)("inlineCode",{parentName:"td"},"@KafkaListener"),".")))))}f.isMDXComponent=!0}}]);